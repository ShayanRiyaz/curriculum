<!--Title={Baseball Records}-->

<!--concepts={algo to code}-->

# Writing the code

```
     |  0  |  1  |  2  |  3  | ... | n
------------------------------
H    |  1  |  1  |  2  |  4  |
------------------------------
S    |  0  |  1  |  1  |  2  |
------------------------------
SS   |  0  |  0  |  1  |  1  |
------------------------------
sh   |  1  |  2  |  4  |  7  |
------------------------------
```

Using this table we can write the code below to solve the problem. Note that we only need to store the previous values of `H`, `S`, and `SS` to use less memory. I did this by using `Sp`, `Fp`, `FFp` to store the values from the previous column.

```
fp = [1 for _ in range(n+1)]
Hp, Sp, SSp  = 1, 0, 0
```

We can use a **for loop** to iterate through every column of the table except the 0th one. The pattern to see in the dynamic programming table, is that:

- The `SS` row is also shifted once right of the `S` row.
- The `S` row is shifted once to the right of the `H` row.

* The `H` row is one column shifted right of the `sh` row.

Knowing this pattern, we can assign the previous values of `S` to `SS` and the previous values of `H` to `sh`

```python
for i in range(1, n+1):
    SSp = Sp
    Sp  = Hp
    Hp  = sh[i-1]
```

Finally, we see that each element of the `sh` row is the sum of the entire column. We also have to mod it with 10 ** 9 + 7 as the instruction say.

```python
    sp[i] = (SSp + Sp + Hp) % 1000000007 
```

Outside the **for loop**, we have to return max value, which is at the bottom right corner of the table or `sh[n]`. We also have to add it with the combinations of the previous `sh` values (which we can get by multiple them together) and mod it with 10 ** 9 + 7.

```python
return (sh[n] + sum(((sh[i] * sh[n-i-1]) % 1000000007 for i in range(n)))) % 1000000007		
```

